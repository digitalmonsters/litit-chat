module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},50940,(a,b,c)=>{"use strict";b.exports=a.r(18622)},67304,(a,b,c)=>{"use strict";b.exports=a.r(50940).vendored["react-ssr"].ReactJsxRuntime},90295,(a,b,c)=>{"use strict";b.exports=a.r(50940).vendored["react-ssr"].React},84178,a=>{"use strict";var b=a.i(67304),c=a.i(90295);a.i(81668);var d=a.i(18114),e=a.i(1448);async function f(a){let b=(0,e.getFirestoreInstance)(),c=(0,d.doc)(b,e.COLLECTIONS.WALLETS,a),f=await (0,d.getDoc)(c);if(f.exists())return{id:f.id,...f.data()};let g={userId:a,stars:0,usd:0,totalEarned:0,totalSpent:0,totalUsdSpent:0,createdAt:(0,d.serverTimestamp)(),updatedAt:(0,d.serverTimestamp)()};return await (0,d.setDoc)(c,g),{id:c.id,...g}}var g=a.i(94839);let h=(0,c.createContext)(void 0);function i(){let a=(0,c.useContext)(h);if(void 0===a)throw Error("useWallet must be used within a WalletProvider");return a}function j({children:a}){let{user:i}=(0,g.useAuth)(),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(!0),n=(0,c.useCallback)(async()=>{if(!i){k(null),m(!1);return}try{let a=await f(i.uid);k(a)}catch(a){console.error("Error refreshing wallet:",a)}finally{m(!1)}},[i]);return(0,c.useEffect)(()=>{if(!i){k(null),m(!1);return}m(!0);let a=(0,e.getFirestoreInstance)(),b=(0,d.doc)(a,e.COLLECTIONS.WALLETS,i.uid);f(i.uid).catch(a=>{console.error("Error initializing wallet:",a)});let c=(0,d.onSnapshot)(b,a=>{a.exists()?k({id:a.id,...a.data()}):f(i.uid).then(a=>{k(a)}).catch(a=>{console.error("Error creating wallet:",a)}),m(!1)},a=>{console.error("Error listening to wallet:",a),m(!1)});return()=>{c()}},[i]),(0,b.jsx)(h.Provider,{value:{wallet:j,loading:l,refreshWallet:n},children:a})}a.s(["WalletProvider",()=>j,"useWallet",()=>i],84178)},5484,a=>{"use strict";var b=a.i(67304),c=a.i(90295),d=a.i(84606);function e({children:a}){return(0,c.useEffect)(()=>{(0,d.onMessageListener)().then(a=>{a.notification&&console.log("ðŸ“¨ New message:",a.notification)}),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("ðŸ”„ Service worker updated, reloading..."),window.location.reload()})},[]),(0,b.jsx)(b.Fragment,{children:a})}a.s(["default",()=>e],5484)},20295,a=>{a.v(b=>Promise.all(["server/chunks/ssr/litit-chat_lib_ghl-sync_ts_b81c114b._.js"].map(b=>a.l(b))).then(()=>b(4712)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__1b86318a._.js.map