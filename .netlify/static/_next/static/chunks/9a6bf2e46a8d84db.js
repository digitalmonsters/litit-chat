(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},18566,(e,t,s)=>{t.exports=e.r(76562)},88653,e=>{"use strict";e.i(47167);var t=e.i(43476),s=e.i(71645),r=e.i(31178),a=e.i(47414),i=e.i(74008),n=e.i(21476),o=e.i(72846),l=s,c=e.i(37806);function d(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class u extends l.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,s=(0,o.isHTMLElement)(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m({children:e,isPresent:r,anchorX:a,root:i}){let n=(0,l.useId)(),o=(0,l.useRef)(null),m=(0,l.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=(0,l.useContext)(c.MotionConfigContext),p=function(...e){return s.useCallback(function(...e){return t=>{let s=!1,r=e.map(e=>{let r=d(e,t);return s||"function"!=typeof r||(s=!0),r});if(s)return()=>{for(let t=0;t<r.length;t++){let s=r[t];"function"==typeof s?s():d(e[t],null)}}}}(...e),e)}(o,e?.ref);return(0,l.useInsertionEffect)(()=>{let{width:e,height:t,top:s,left:l,right:c}=m.current;if(r||!o.current||!e||!t)return;let d="left"===a?`left: ${l}`:`right: ${c}`;o.current.dataset.motionPopId=n;let u=document.createElement("style");h&&(u.nonce=h);let p=i??document.head;return p.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${d}px !important;
            top: ${s}px !important;
          }
        `),()=>{p.contains(u)&&p.removeChild(u)}},[r]),(0,t.jsx)(u,{isPresent:r,childRef:o,sizeRef:m,children:l.cloneElement(e,{ref:p})})}let h=({children:e,initial:r,isPresent:i,onExitComplete:o,custom:l,presenceAffectsLayout:c,mode:d,anchorX:u,root:h})=>{let x=(0,a.useConstant)(p),g=(0,s.useId)(),f=!0,v=(0,s.useMemo)(()=>(f=!1,{id:g,initial:r,isPresent:i,custom:l,onExitComplete:e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;o&&o()},register:e=>(x.set(e,!1),()=>x.delete(e))}),[i,x,o]);return c&&f&&(v={...v}),(0,s.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[i]),s.useEffect(()=>{i||x.size||!o||o()},[i]),"popLayout"===d&&(e=(0,t.jsx)(m,{isPresent:i,anchorX:u,root:h,children:e})),(0,t.jsx)(n.PresenceContext.Provider,{value:v,children:e})};function p(){return new Map}var x=e.i(64978);let g=e=>e.key||"";function f(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}let v=({children:e,custom:n,initial:o=!0,onExitComplete:l,presenceAffectsLayout:c=!0,mode:d="sync",propagate:u=!1,anchorX:m="left",root:p})=>{let[v,y]=(0,x.usePresence)(u),b=(0,s.useMemo)(()=>f(e),[e]),j=u&&!v?[]:b.map(g),w=(0,s.useRef)(!0),k=(0,s.useRef)(b),N=(0,a.useConstant)(()=>new Map),[C,F]=(0,s.useState)(b),[E,L]=(0,s.useState)(b);(0,i.useIsomorphicLayoutEffect)(()=>{w.current=!1,k.current=b;for(let e=0;e<E.length;e++){let t=g(E[e]);j.includes(t)?N.delete(t):!0!==N.get(t)&&N.set(t,!1)}},[E,j.length,j.join("-")]);let A=[];if(b!==C){let e=[...b];for(let t=0;t<E.length;t++){let s=E[t],r=g(s);j.includes(r)||(e.splice(t,0,s),A.push(s))}return"wait"===d&&A.length&&(e=A),L(f(e)),F(b),null}let{forceRender:z}=(0,s.useContext)(r.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:E.map(e=>{let s=g(e),r=(!u||!!v)&&(b===E||j.includes(s));return(0,t.jsx)(h,{isPresent:r,initial:(!w.current||!!o)&&void 0,custom:n,presenceAffectsLayout:c,mode:d,root:p,onExitComplete:r?void 0:()=>{if(!N.has(s))return;N.set(s,!0);let e=!0;N.forEach(t=>{t||(e=!1)}),e&&(z?.(),L(k.current),u&&y?.(),l&&l())},anchorX:m,children:e},s)})})};e.s(["AnimatePresence",()=>v],88653)},76525,e=>{"use strict";var t=e.i(43476),s=e.i(47163);function r({variant:e="primary",size:r="md",isLoading:a=!1,className:i,disabled:n,children:o,...l}){return(0,t.jsxs)("button",{className:(0,s.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500 dark:bg-indigo-500 dark:hover:bg-indigo-600",secondary:"bg-purple-600 text-white hover:bg-purple-700 focus:ring-purple-500 dark:bg-purple-500 dark:hover:bg-purple-600",outline:"border border-zinc-300 bg-transparent text-zinc-700 hover:bg-zinc-50 focus:ring-zinc-500 dark:border-zinc-700 dark:text-zinc-300 dark:hover:bg-zinc-800",ghost:"bg-transparent text-zinc-700 hover:bg-zinc-100 focus:ring-zinc-500 dark:text-zinc-300 dark:hover:bg-zinc-800",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 dark:bg-red-500 dark:hover:bg-red-600"}[e],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[r],i),disabled:n||a,...l,children:[a&&(0,t.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o]})}e.s(["default",()=>r])},80344,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(46932);function a(e){return e>=1280?"wide":e>=1024?"desktop":e>=768?"tablet":"mobile"}var i=e.i(47163);function n({children:e,className:n}){let[o,l]=(0,s.useState)("mobile"),[c,d]=(0,s.useState)(0);return(0,s.useEffect)(()=>{let e;d(e=window.innerWidth),l(a(e));let t=()=>{let e=window.innerWidth;d(e),l(a(e))};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),(0,t.jsx)(r.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:(0,i.cn)("min-h-screen w-full",c<768&&"px-0",c>=768&&c<1024&&"px-4",c>=1024&&"max-w-7xl mx-auto px-6",n),"data-breakpoint":o,children:e})}e.s(["default",()=>n],80344)},87560,86785,e=>{"use strict";var t=e.i(43476),s=e.i(46932),r=e.i(47163),a=e.i(30898);function i({message:e,onUnlock:i,className:n}){let o=e.attachments?.[0],l=e.unlockPrice?`$${(e.unlockPrice/100).toFixed(2)}`:"$0.00";if(!o||!e.isLocked)return null;let c=o?.type||"",d=o?.url||"",u=o?.name||"File",m=o?.size||0;return(0,t.jsxs)(s.motion.div,{initial:"hidden",animate:"visible",variants:a.flameFadeIn,onClick:i,className:(0,r.cn)("relative cursor-pointer group","rounded-xl overflow-hidden","bg-gray-900 border-2 border-gray-700","hover:border-[#FF5E3A]/50 transition-all duration-300",n),children:[(0,t.jsxs)("div",{className:"relative aspect-video bg-gray-800",children:[c.startsWith("image/")?(0,t.jsx)("img",{src:d,alt:u,className:"w-full h-full object-cover blur-md scale-110",draggable:!1}):c.startsWith("video/")?(0,t.jsx)("video",{src:d,className:"w-full h-full object-cover blur-md scale-110",muted:!0,loop:!0}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-16 h-16 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/60"}),(0,t.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-3",children:[(0,t.jsxs)(s.motion.div,{animate:{scale:[1,1.1,1],rotate:[0,-5,5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-[#FF5E3A] blur-xl opacity-50 rounded-full"}),(0,t.jsx)("svg",{className:"w-16 h-16 text-[#FF5E3A] relative z-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})]}),(0,t.jsx)(s.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"px-4 py-2 bg-gradient-to-r from-[#FF5E3A] to-[#FF9E57] rounded-full",children:(0,t.jsxs)("span",{className:"text-white font-semibold text-lg",children:["Unlock for ",l]})}),(0,t.jsx)(s.motion.p,{initial:{opacity:0},animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},className:"text-gray-300 text-sm",children:"Tap to unlock"})]}),(0,t.jsx)(s.motion.div,{className:"absolute inset-0 opacity-0 group-hover:opacity-20 pointer-events-none",style:{background:"radial-gradient(circle, rgba(255, 94, 58, 0.3) 0%, transparent 70%)"},animate:{scale:[1,1.2,1],opacity:[0,.2,0]},transition:{duration:1.5,repeat:1/0}}),(0,t.jsx)(s.motion.div,{className:"absolute inset-0 pointer-events-none",initial:{opacity:0,scale:0},whileHover:{opacity:[0,.4,0],scale:[1,1.5,1]},transition:{duration:1,repeat:1/0,ease:"easeOut"},style:{background:"radial-gradient(circle, rgba(255, 94, 58, 0.6) 0%, rgba(255, 158, 87, 0.4) 50%, transparent 100%)"}})]}),(0,t.jsxs)("div",{className:"p-3 bg-gray-800/50 backdrop-blur-sm",children:[(0,t.jsx)("p",{className:"text-sm text-gray-300 truncate",children:u}),m>0&&(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[(m/1024).toFixed(1)," KB"]})]})]})}var n=e.i(83642);function o({message:e,isOwn:o,showAvatar:l=!0,showTimestamp:c=!0,onUnlock:d,className:u}){let{user:m}=(0,n.useAuth)(),h=e=>{if(!e)return"";let t=e.toDate?e.toDate():new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/6e4);return s<1?"Just now":s<60?`${s}m ago`:s<1440?`${Math.floor(s/60)}h ago`:t.toLocaleDateString()},p=e.isLocked&&!o,x=e.unlockedBy,g=!!m&&!!x&&(Array.isArray(x)?x.includes(m.uid):"object"==typeof x&&m.uid in x);return p&&!g?(0,t.jsx)(s.motion.div,{initial:"hidden",animate:"visible",variants:a.flameFadeIn,className:(0,r.cn)("flex",o?"justify-end":"justify-start",u),children:(0,t.jsxs)("div",{className:(0,r.cn)("max-w-[80%]",o?"md:max-w-[60%]":"md:max-w-[70%]"),children:[(0,t.jsx)(i,{message:e,onUnlock:()=>d?.(e)}),c&&(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1 ml-2",children:h(e.timestamp)})]})}):(0,t.jsxs)(s.motion.div,{initial:"hidden",animate:"visible",variants:a.flameFadeIn,className:(0,r.cn)("flex items-end gap-2 px-4 py-2",o?"flex-row-reverse":"flex-row",u),children:[l&&!o&&(0,t.jsx)("div",{className:"flex-shrink-0",children:e.senderAvatar?(0,t.jsx)("img",{src:e.senderAvatar,alt:e.senderName,className:"w-8 h-8 rounded-full object-cover"}):(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[#FF5E3A] to-[#FF9E57] flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white text-xs font-semibold",children:e.senderName.charAt(0).toUpperCase()})})}),(0,t.jsxs)("div",{className:(0,r.cn)("flex flex-col gap-1",o?"items-end":"items-start",l&&!o?"max-w-[70%]":"max-w-[80%]"),children:[!o&&(0,t.jsx)("span",{className:"text-xs font-medium text-gray-400",children:e.senderName}),(0,t.jsxs)("div",{className:(0,r.cn)("rounded-2xl px-4 py-2 shadow-sm",o?"bg-gradient-to-r from-[#FF5E3A] to-[#FF9E57] text-white":"bg-gray-800 text-white"),children:[e.content&&(0,t.jsx)("p",{className:"break-words text-sm leading-relaxed",children:e.content}),e.attachments?.some(e=>e.type.startsWith("image/"))&&(0,t.jsx)("div",{className:"mt-2 space-y-2",children:e.attachments.filter(e=>e.type.startsWith("image/")).map((e,s)=>(0,t.jsx)("img",{src:e.url,alt:e.name,className:"max-w-full rounded-lg"},s))}),e.attachments?.some(e=>e.type.startsWith("video/"))&&(0,t.jsx)("div",{className:"mt-2 space-y-2",children:e.attachments.filter(e=>e.type.startsWith("video/")).map((e,s)=>(0,t.jsx)("video",{src:e.url,controls:!0,className:"max-w-full rounded-lg"},s))}),e.attachments?.some(e=>e.type.startsWith("audio/"))&&(0,t.jsx)("div",{className:"mt-2 space-y-2",children:e.attachments.filter(e=>e.type.startsWith("audio/")).map((e,s)=>(0,t.jsx)("audio",{src:e.url,controls:!0,className:"w-full"},s))}),e.attachments?.some(e=>!e.type.startsWith("image/")&&!e.type.startsWith("video/")&&!e.type.startsWith("audio/"))&&(0,t.jsx)("div",{className:"mt-2 space-y-2",children:e.attachments.filter(e=>!e.type.startsWith("image/")&&!e.type.startsWith("video/")&&!e.type.startsWith("audio/")).map((e,s)=>(0,t.jsxs)("a",{href:e.url,download:e.name,className:"flex items-center gap-2 p-2 bg-black/20 rounded-lg hover:bg-black/30 transition-colors",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),(0,t.jsx)("span",{className:"text-sm",children:e.name})]},s))}),e.isEdited&&(0,t.jsx)("span",{className:"ml-2 text-xs opacity-70",children:"(edited)"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[c&&(0,t.jsx)("span",{className:"text-xs text-gray-500",children:h(e.timestamp)}),o&&e.status&&(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["sending"===e.status&&"â³","sent"===e.status&&"âœ“","delivered"===e.status&&"âœ“âœ“","read"===e.status&&"âœ“âœ“","failed"===e.status&&"âœ—"]})]})]}),l&&o&&(0,t.jsx)("div",{className:"h-8 w-8 flex-shrink-0"})]})}e.s(["default",()=>o],87560);var l=e.i(71645),c=e.i(88653),d=e.i(56563);e.i(36180);var u=e.i(98925),m=e.i(76009);function h({chatId:e,placeholder:a="Type a message...",disabled:i=!1,className:o}){let{user:h}=(0,n.useAuth)(),[p,x]=(0,l.useState)(""),[g,f]=(0,l.useState)(null),[v,y]=(0,l.useState)(null),[b,j]=(0,l.useState)(!1),[w,k]=(0,l.useState)(""),[N,C]=(0,l.useState)(!1),F=(0,l.useRef)(null),E=(0,l.useRef)(null),L=async()=>{if((p.trim()||g)&&!i&&h){C(!0);try{let t=(0,m.getFirestoreInstance)(),s=(0,u.collection)(t,`${m.COLLECTIONS.CHATS}/${e}/${m.COLLECTIONS.MESSAGES}`),r=[],a="text";if(g)if(g.type.startsWith("image/")){a="image";let t=await (0,d.compressImage)(g,1200,.85),s=await (0,d.uploadChatImage)(e,t);r.push({url:s,type:g.type,name:g.name,size:t.size})}else g.type.startsWith("video/")||g.type.startsWith("audio/"),a="file",r.push({url:URL.createObjectURL(g),type:g.type,name:g.name,size:g.size});let i={chatId:e,senderId:h.uid,senderName:h.displayName||"User",senderAvatar:h.photoURL||void 0,content:p||(g?g.name:""),type:a,status:"sending",timestamp:(0,u.serverTimestamp)(),createdAt:(0,u.serverTimestamp)(),attachments:r.length>0?r:void 0,isLocked:!!b&&!!g||void 0,unlockPrice:b&&w?Math.round(100*parseFloat(w)):void 0,unlockCurrency:b&&w?"USD":void 0},n=await (0,u.addDoc)(s,i);await (0,u.updateDoc)(n,{status:"sent"});let o=(0,u.doc)(t,m.COLLECTIONS.CHATS,e);await (0,u.updateDoc)(o,{lastMessageId:n.id,lastMessageAt:(0,u.serverTimestamp)(),updatedAt:(0,u.serverTimestamp)()}),x(""),f(null),y(null),j(!1),k(""),F.current&&(F.current.style.height="auto")}catch(e){console.error("Error sending message:",e)}finally{C(!1)}}};return(0,t.jsxs)("div",{className:(0,r.cn)("bg-[#1E1E1E] border-t border-gray-800",o),children:[(0,t.jsx)(c.AnimatePresence,{children:g&&(0,t.jsxs)(s.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-4 border-b border-gray-800",children:[(0,t.jsx)("div",{className:"relative",children:v?(0,t.jsx)("img",{src:v,alt:"Preview",className:"w-full max-h-48 object-cover rounded-lg"}):(0,t.jsxs)("div",{className:"p-4 bg-gray-800 rounded-lg flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-white text-sm font-medium",children:g.name}),(0,t.jsxs)("p",{className:"text-gray-400 text-xs",children:[(g.size/1024).toFixed(1)," KB"]})]}),(0,t.jsx)("button",{onClick:()=>{f(null),y(null)},className:"text-gray-400 hover:text-white",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,t.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:b,onChange:e=>j(e.target.checked),className:"w-4 h-4 rounded border-gray-700 bg-gray-800 text-[#FF5E3A] focus:ring-[#FF5E3A]"}),(0,t.jsx)("span",{className:"text-sm text-gray-300",children:"ðŸ’° Set Price to Unlock"})]}),b&&(0,t.jsxs)(s.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-400",children:"$"}),(0,t.jsx)("input",{type:"number",value:w,onChange:e=>k(e.target.value),placeholder:"0.00",min:"0",step:"0.01",className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white text-sm focus:outline-none focus:border-[#FF5E3A]"})]})]})]})}),(0,t.jsxs)("div",{className:"flex items-end gap-2 p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("button",{onClick:()=>E.current?.click(),disabled:i||N,className:"flex-shrink-0 w-10 h-10 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center justify-center text-gray-400 hover:text-white transition-colors disabled:opacity-50",title:"Upload media",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),(0,t.jsx)("button",{onClick:()=>{E.current?.click()},disabled:i||N,className:"flex-shrink-0 w-10 h-10 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center justify-center text-gray-400 hover:text-white transition-colors disabled:opacity-50",title:"Take photo/video",children:(0,t.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),(0,t.jsx)("input",{ref:E,type:"file",accept:"image/*,video/*,audio/*",capture:"environment",onChange:e=>{let t=e.target.files?.[0];if(t)if(f(t),t.type.startsWith("image/")){let e=new FileReader;e.onloadend=()=>{y(e.result)},e.readAsDataURL(t)}else y(null)},className:"hidden"}),(0,t.jsx)("textarea",{ref:F,value:p,onChange:e=>{x(e.target.value),F.current&&(F.current.style.height="auto",F.current.style.height=`${F.current.scrollHeight}px`)},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),L())},placeholder:a,disabled:i||N,rows:1,className:(0,r.cn)("flex-1 max-h-32 resize-none rounded-lg border border-gray-700 bg-gray-800 px-4 py-2 text-sm text-white placeholder-gray-400","focus:outline-none focus:border-[#FF5E3A] focus:ring-1 focus:ring-[#FF5E3A]","disabled:cursor-not-allowed disabled:opacity-50")}),(0,t.jsx)(s.motion.button,{onClick:L,disabled:!p.trim()&&!g||i||N,whileHover:{scale:N?1:1.05},whileTap:{scale:N?1:.95},className:(0,r.cn)("flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center transition-all",(p.trim()||g)&&!i&&!N?"bg-gradient-to-r from-[#FF5E3A] to-[#FF9E57] text-white hover:from-[#FF6E4A] hover:to-[#FFAE67]":"bg-gray-800 text-gray-400 cursor-not-allowed"),children:N?(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})]})}e.s(["default",()=>h],86785)}]);